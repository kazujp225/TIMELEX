# TIMREXPLUS プロジェクトドキュメント

**プロジェクト名**: TIMREXPLUS
**バージョン**: 1.0
**最終更新**: 2025-11-11
**対象組織**: ZettAI

---

## 🎯 プロジェクト概要

TimeRex/Calendlyのような直感的な予約体験を、社内運用に最適化したオンライン予約システム。クライアントが予約URLをクリックし、空き枠を選び、その場で予約を確定。Google Meetリンクが自動発行され、通知まで完結する、待ち時間ゼロ・往復のやり取りゼロの予約システムです。

### 主な特徴
- ✅ **即時確定**: 3ステップ以内で予約完了
- ✅ **スタッフA/B統合**: 単一URLで複数スタッフの空き枠を表示
- ✅ **Google Meet自動発行**: 予約と同時にオンライン会議室を生成
- ✅ **マーケティング追跡**: UTM/リファラで流入経路を可視化
- ✅ **継続顧客識別**: 30日以内の再訪顧客を自動判定

---

## 📚 ドキュメント構造

このプロジェクトのドキュメントは以下の構成になっています：

```
TIMREXPLUS/
├── Claude.md          # 本ドキュメント（プロジェクト全体の索引）
├── plan.md            # 要件定義書（v2.2）
└── （今後追加予定）
    ├── design/        # 設計書
    │   ├── database.md        # データベース設計
    │   ├── api.md             # API設計
    │   └── architecture.md    # アーキテクチャ設計
    ├── development/   # 開発ガイド
    │   ├── setup.md           # 開発環境構築
    │   ├── coding-standards.md # コーディング規約
    │   └── testing.md         # テスト戦略
    └── operation/     # 運用ガイド
        ├── deployment.md      # デプロイ手順
        ├── monitoring.md      # 監視・アラート設定
        └── troubleshooting.md # トラブルシューティング
```

---

## 📖 主要ドキュメント

### 1. 要件定義書（plan.md）

**概要**: プロジェクトのビジネス要件、機能要件、非機能要件を網羅的に定義したドキュメント

**対象読者**: 全員（必読）

**主なセクション**:
- エグゼクティブサマリー
- 目指すユーザー体験（UI/UX要件）
- 機能要件（FR-01〜FR-76）
- 非機能要件（性能、セキュリティ、可用性）
- 外部連携要件（Google OAuth, Calendar API, Meet）
- データモデル概要
- 運用要件
- MVP範囲と将来拡張

**最新バージョン**: v2.2（2025-11-11更新）

**主な更新内容**:
- デフォルト値を全項目に明記
- バリデーションルール・エラーハンドリングの詳細化
- データモデル概要の追加
- 性能・セキュリティ要件の具体化

**📄 [plan.md を開く](./plan.md)**

---

## 👥 役割別ガイド

### プロダクトオーナー / 経営層

**最初に読むべきドキュメント**:
1. 📄 [plan.md - エグゼクティブサマリー](./plan.md#1-エグゼクティブサマリー) - 投資対効果、KPIを確認
2. 📄 [plan.md - 成功指標（KPI）](./plan.md#12-成功指標kpi) - 測定すべき指標を把握

**定期的に確認すべき情報**:
- KPI達成状況（予約完了率、No-show率、継続率等）
- お問い合わせ元別コンバージョン率
- MVP範囲と将来拡張のロードマップ

### UI/UXデザイナー

**最初に読むべきドキュメント**:
1. 📄 [plan.md - 目指すユーザー体験](./plan.md#4-目指すユーザー体験) - デザイン方針を理解
2. 📄 [plan.md - UI/UX要件](./plan.md#6-uiux要件) - デザインシステム、画面設計を確認
3. 📄 [plan.md - ユーザーストーリー](./plan.md#5-ユーザーストーリー) - クライアント・スタッフの体験を把握

**デザイン時の参照情報**:
- カラーパレット（メイン: `#6EC5FF`、アクセント: `#FFC870`）
- タイポグラフィ（Noto Sans JP、フォントサイズ）
- レイアウト原則（モバイルファースト、タップ範囲44px以上）
- アニメーション仕様（イージング、時間）

### フロントエンド開発者

**最初に読むべきドキュメント**:
1. 📄 [plan.md - UI/UX要件](./plan.md#6-uiux要件) - 画面別UI設計を確認
2. 📄 [plan.md - 機能要件 7.1〜7.3](./plan.md#71-予約フロークライアント側) - 予約フロー、追跡機能を理解
3. 📄 [plan.md - エラーハンドリング](./plan.md#79-エラーハンドリング) - クライアント側エラー対応を確認

**実装時の参照情報**:
- バリデーションルール（メール形式、文字数制限）
- エラーメッセージ一覧
- パフォーマンス要件（空き枠表示1.5秒以内、予約確定3秒以内）
- アクセシビリティ要件（WCAG 2.1 AA準拠）

### バックエンド開発者

**最初に読むべきドキュメント**:
1. 📄 [plan.md - 機能要件](./plan.md#7-機能要件) - 全機能要件を確認
2. 📄 [plan.md - データモデル概要](./plan.md#96-データモデル概要) - テーブル構造を理解
3. 📄 [plan.md - 外部連携要件](./plan.md#9-外部連携要件) - Google API連携を確認
4. 📄 [plan.md - 非機能要件](./plan.md#8-非機能要件) - 性能・セキュリティを把握

**実装時の参照情報**:
- ダブルブッキング防止機構（FR-05）
- Google Calendar API仕様（events.insert, freebusy.query）
- リトライポリシー（3回、exponential backoff）
- 暗号化方式（AES-256-GCM）
- 監査ログ要件

### QAエンジニア

**最初に読むべきドキュメント**:
1. 📄 [plan.md - 受け入れ基準（MVP）](./plan.md#11-受け入れ基準mvp) - テスト観点を把握
2. 📄 [plan.md - エラーハンドリング](./plan.md#79-エラーハンドリング) - エラーケースを確認
3. 📄 [plan.md - ユーザーストーリー](./plan.md#5-ユーザーストーリー) - 受け入れ基準を理解

**テスト時の参照情報**:
- E2Eテストシナリオ（AC-01〜AC-10）
- 競合テスト（同時予約でのダブルブッキング確認）
- 負荷テスト基準（同時100ユーザー、ピーク500ユーザー）
- セキュリティテスト項目（OWASP Top 10）

### 運用チーム / スタッフ

**最初に読むべきドキュメント**:
1. 📄 [plan.md - 運用要件](./plan.md#10-運用要件) - 初期設定と日常運用を確認
2. 📄 [plan.md - 目指すユーザー体験 - スタッフ体験](./plan.md#43-スタッフ体験のゴール) - 運用イメージを把握
3. 📄 [plan.md - 異常時の対応](./plan.md#103-異常時の対応) - トラブル対応フローを理解

**運用時の参照情報**:
- 初期設定フロー（Google連携、相談種別登録等）
- 日常作業（スタッフ: 朝の確認2分、事前準備5分）
- 管理者作業（週次レポート30分、月次分析60分）
- 異常時対応（OAuth失効時、Meet発行失敗時、メール不達時）

---

## 🚀 開発フェーズガイド

### Phase 1: 企画・要件定義（完了）

**成果物**:
- ✅ 要件定義書 v2.2（plan.md）

**次のステップ**:
- 設計書の作成（データベース、API、アーキテクチャ）

### Phase 2: 設計（次フェーズ）

**必要なドキュメント**:
- [ ] データベース設計書（テーブル定義、ER図、インデックス設計）
- [ ] API設計書（エンドポイント、リクエスト/レスポンス形式）
- [ ] アーキテクチャ設計書（システム構成図、技術スタック選定）
- [ ] セキュリティ設計書（認証・認可、暗号化、監査ログ）

**参照すべき要件**:
- plan.md - データモデル概要（9.6）
- plan.md - 外部連携要件（9章）
- plan.md - 非機能要件（8章）

### Phase 3: 開発

**必要なドキュメント**:
- [ ] 開発環境構築ガイド
- [ ] コーディング規約
- [ ] Git運用ルール
- [ ] テスト戦略

**開発の進め方**:
1. MVP機能の実装（plan.md 14.1参照）
2. E2Eテスト（AC-01〜AC-10）の実施
3. 負荷テスト（同時100ユーザー）
4. セキュリティ診断（OWASP Top 10）

### Phase 4: テスト・品質保証

**テスト観点**:
- 機能テスト（受け入れ基準 AC-01〜AC-10）
- パフォーマンステスト（目標値と許容範囲）
- セキュリティテスト
- ユーザビリティテスト

### Phase 5: 運用準備・リリース

**必要なドキュメント**:
- [ ] デプロイ手順書
- [ ] 監視・アラート設定ガイド
- [ ] トラブルシューティングガイド
- [ ] ユーザーマニュアル（クライアント向け、スタッフ向け、管理者向け）

---

## 🔍 クイックリファレンス

### よく参照する設定値

| 項目 | デフォルト値 | 設定範囲 | 参照先 |
|------|------------|---------|--------|
| **最短予約猶予** | 2時間前まで | 0〜48時間 | plan.md FR-43 |
| **最長予約期間** | 60日先まで | 7〜365日 | plan.md FR-43 |
| **バッファ（前後）** | 5分 | 0〜30分 | plan.md FR-42 |
| **稼働時間** | 月〜金 9:00-18:00 | カスタマイズ可 | plan.md FR-40 |
| **継続顧客判定** | 30日以内 | 7〜90日 | plan.md FR-30 |
| **データ保持期間** | 180日 | 30〜365日 | plan.md 9.6 |
| **変更・キャンセル期限** | 2時間前まで | 0〜48時間 | plan.md FR-06 |

### 性能目標値

| 指標 | 目標値 | 許容範囲 | 参照先 |
|------|--------|---------|--------|
| **空き枠表示時間** | 1.5秒以内 | 2秒以内 | plan.md 8.3 |
| **予約確定レスポンス** | 3秒以内 | 5秒以内 | plan.md 8.3 |
| **同時アクセス** | 100ユーザー | 500ユーザーまで | plan.md 8.3 |
| **稼働率** | 99.9% | 月間43分以内のダウンタイム | plan.md 8.1 |

### カラーパレット

| 用途 | カラー | 値 | 参照先 |
|------|--------|-----|--------|
| **メインカラー** | 優しい青 | `#6EC5FF` | plan.md 6.1 |
| **アクセント** | サンセットイエロー | `#FFC870` | plan.md 6.1 |
| **エラー** | ピンクレッド | `#FF7676` | plan.md 6.1 |
| **成功** | グリーン | `#4CAF50` | plan.md 6.1 |

### Google API

| API | エンドポイント | 用途 | 参照先 |
|-----|--------------|------|--------|
| **Events.insert** | POST /calendars/{calendarId}/events | 予約作成 | plan.md 9.2 |
| **Events.patch** | PATCH /calendars/{calendarId}/events/{eventId} | 予約変更 | plan.md 9.2 |
| **Events.delete** | DELETE /calendars/{calendarId}/events/{eventId} | 予約削除 | plan.md 9.2 |
| **FreeBusy.query** | POST /freeBusy | 空き確認 | plan.md 9.2 |

---

## 📝 ドキュメント作成・更新ガイドライン

### ドキュメントの命名規則

- **英語**: 技術ドキュメント（database.md、api.md等）
- **日本語**: ビジネスドキュメント（要件定義書、運用手順書等）
- **小文字**: ファイル名は小文字とハイフンを使用（coding-standards.md）

### バージョン管理

要件定義書（plan.md）はバージョン番号で管理：
- **v1.0**: 初版
- **v2.0**: メジャー更新（構造変更、大幅な追加）
- **v2.1**: マイナー更新（セクション追加、表形式改善）
- **v2.2**: パッチ更新（詳細化、具体化）

### 更新時のルール

1. **更新履歴を記録**: ドキュメント末尾に更新履歴セクションを追加
2. **バージョン番号を更新**: ヘッダーのバージョン番号を変更
3. **Claude.mdを更新**: 新規ドキュメント追加時はこのファイルに索引を追加
4. **コミットメッセージ**: 変更内容を明確に記載

---

## ❓ よくある質問（FAQ）

### Q1: プロジェクト全体の構成を知りたい
**A**: 本ドキュメント（Claude.md）の「ドキュメント構造」セクションを参照してください。

### Q2: 自分の役割で最初に読むべきドキュメントは？
**A**: 本ドキュメントの「役割別ガイド」セクションで、あなたの役割に応じた推奨ドキュメントを確認してください。

### Q3: デフォルト設定値（最短予約猶予、バッファ等）を知りたい
**A**: 本ドキュメントの「クイックリファレンス」セクション、または plan.md の各機能要件を参照してください。

### Q4: エラーメッセージの一覧を知りたい
**A**: plan.md の「7.9 エラーハンドリング」セクションを参照してください。

### Q5: データベースのテーブル構造を知りたい
**A**: plan.md の「9.6 データモデル概要」セクションを参照してください。詳細な設計は今後作成予定の「database.md」で定義されます。

### Q6: Google Calendar API の使い方を知りたい
**A**: plan.md の「9章 外部連携要件」を参照してください。

### Q7: MVP範囲に含まれる機能を知りたい
**A**: plan.md の「14.1 MVP（必須機能）」セクションを参照してください。

### Q8: 将来追加予定の機能を知りたい
**A**: plan.md の「14.2 将来拡張（次フェーズ）」セクションを参照してください。

---

## 🔗 関連リソース

### 外部ドキュメント

- [Google Calendar API リファレンス](https://developers.google.com/calendar/api/v3/reference)
- [Google OAuth 2.0 ガイド](https://developers.google.com/identity/protocols/oauth2)
- [WCAG 2.1（アクセシビリティ）](https://www.w3.org/TR/WCAG21/)
- [OWASP Top 10（セキュリティ）](https://owasp.org/www-project-top-ten/)

### 参考プロダクト

- [TimeRex](https://timerex.net/) - UI/UX の参考
- [Calendly](https://calendly.com/) - 予約フローの参考

---

## 📞 問い合わせ・フィードバック

### プロジェクトに関する質問

- プロダクトオーナー: [担当者名]
- 技術リード: [担当者名]
- プロジェクトリポジトリ: https://github.com/ZETTAI-INC/TUMELEXPLUS

### ドキュメントの改善提案

ドキュメントに不明点や改善提案がある場合は、GitHubのIssueまたはPull Requestで報告してください。

---

## 📄 変更履歴

| バージョン | 日付 | 変更内容 | 担当者 |
|----------|------|---------|--------|
| v1.0 | 2025-11-11 | 初版作成（Claude.md新規作成、プロジェクト索引構築） | Claude |

---

**最終更新**: 2025-11-11
**次回レビュー予定**: 設計フェーズ開始時
